<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tidyclust">
<title>kmeans • tidyclust</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="kmeans">
<meta property="og:description" content="tidyclust">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tidyclust</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/kmeans.html">kmeans</a>
    <a class="dropdown-item" href="../articles/kmeans_metrics.html">kmeans_metrics</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/EmilHvitfeldt/tidyclust/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>kmeans</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/EmilHvitfeldt/tidyclust/blob/HEAD/vignettes/articles/kmeans.Rmd" class="external-link"><code>vignettes/articles/kmeans.Rmd</code></a></small>
      <div class="d-none name"><code>kmeans.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/EmilHvitfeldt/tidyclust" class="external-link">tidyclust</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Attaching packages</span> ─────────────────────────────────────── tidyverse 1.3.1 ──</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2</span> 3.3.6     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr  </span> 0.3.4</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble </span> 3.1.7     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr  </span> 1.0.9</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr  </span> 1.2.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr</span> 1.4.0</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr  </span> 2.1.2     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats</span> 0.5.1</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org" class="external-link">tidymodels</a></span><span class="op">)</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Attaching packages</span> ────────────────────────────────────── tidymodels 0.2.0 ──</span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">broom       </span> 0.8.0          <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">rsample     </span> 0.1.1     </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dials       </span> 1.0.0          <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tune        </span> 0.2.0     </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">infer       </span> 1.0.2          <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">workflows   </span> 0.2.6.<span style="color: #BB0000;">9001</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">modeldata   </span> 0.1.1          <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">workflowsets</span> 0.2.1     </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">parsnip     </span> 0.2.1.<span style="color: #BB0000;">9002</span>     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">yardstick   </span> 1.0.0     </span>
<span class="co">#&gt; <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">recipes     </span> 0.2.0</span>
<span class="co">#&gt; ── <span style="font-weight: bold;">Conflicts</span> ───────────────────────────────────────── tidymodels_conflicts() ──</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">scales</span>::<span style="color: #00BB00;">discard()</span>       masks <span style="color: #0000BB;">purrr</span>::discard()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span>         masks <span style="color: #0000BB;">stats</span>::filter()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">recipes</span>::<span style="color: #00BB00;">fixed()</span>        masks <span style="color: #0000BB;">stringr</span>::fixed()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>            masks <span style="color: #0000BB;">stats</span>::lag()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">parsnip</span>::<span style="color: #00BB00;">prepare_data()</span> masks <span style="color: #0000BB;">tidyclust</span>::prepare_data()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">yardstick</span>::<span style="color: #00BB00;">spec()</span>       masks <span style="color: #0000BB;">readr</span>::spec()</span>
<span class="co">#&gt; <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">recipes</span>::<span style="color: #00BB00;">step()</span>         masks <span style="color: #0000BB;">stats</span>::step()</span>
<span class="co">#&gt; <span style="color: #0000BB;">•</span> Dig deeper into tidy modeling with R at <span style="color: #00BB00;">https://www.tmwr.org</span></span>
<span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">838383</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"penguins"</span>, package <span class="op">=</span> <span class="st">"modeldata"</span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="a-brief-introduction-to-the-k-means-algorithm">A brief introduction to the k-means algorithm<a class="anchor" aria-label="anchor" href="#a-brief-introduction-to-the-k-means-algorithm"></a>
</h2>
<p><em>k-means</em> is a method of <em>unsupervised</em> learning that produces a partitioning of observations into <em>k</em> unique clusters. The goal of <em>k-means</em> is to minimize the sum of squared Euclidian distances between observations in a cluster and the <strong>centroid</strong>, or geometric mean, of that cluster.</p>
<p>In <em>k-means</em> clustering, observed variables (columns) are considered to be locations on orthogonal axes in multidimensional space. For example, in the plot below, each point represents an observation of one penguin, and the location in 2-dimensional space is determined by the bill length and bill depth of that penguin.</p>
<pre><code><span class="co">#&gt; Warning: Removed 2 rows containing missing values (geom_point).</span></code></pre>
<p><img src="kmeans_files/figure-html/unnamed-chunk-2-1.png" width="700"></p>
<p>A <em>k-means</em> cluster assignment is achieved by iterating to convergence from random initial conditions. The algorithm proceeds as follows:</p>
<ol style="list-style-type: decimal">
<li><p>Choose <em>k</em> random observations in the dataset. These locations in space are declared to be the <strong>initial centroids</strong>.</p></li>
<li><p>Assign each observation to the nearest centroid.</p></li>
</ol>
<p>[pic - we should have automatic functions for this. if I could predict with pre-supplied centroids that would be cool.]</p>
<ol start="3" style="list-style-type: decimal">
<li><p>Compute the new centroids of each cluster.</p></li>
<li><p>Repeat steps 2 and 3 until the centroids do not change.</p></li>
</ol>
<p>[gif?]</p>
<div class="section level4">
<h4 id="things-to-note">Things to note<a class="anchor" aria-label="anchor" href="#things-to-note"></a>
</h4>
<ul>
<li><p>Because <em>k-means</em> relies on random initial conditions, the procedure may not result in identical cluster assignments on subsequent runs.</p></li>
<li><p>Because <em>k-means</em> is a greedy algorithm, it is not guaranteed to achieve a globally optimal solution.</p></li>
<li><p><em>k-means</em> produces a <strong>partition</strong>: each observation is assigned to exactly one cluster</p></li>
<li><p><em>k-means</em> is a <strong>non-stochastic</strong> approach; no probability model is assumed regarding the selection of the observations or the values of the variables.</p></li>
</ul>
</div>
</div>
<div class="section level2">
<h2 id="k-means-specification-in-tidyclust">k-means specification in {tidyclust}<a class="anchor" aria-label="anchor" href="#k-means-specification-in-tidyclust"></a>
</h2>
<p>To specify a k-means model in <code>tidyclust</code>, simply choose a value of <span class="math inline">\(k\)</span> and an engine:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kmeans_spec</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/k_means.html">k_means</a></span><span class="op">(</span>k <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/set_engine_tidyclust.html">set_engine_tidyclust</a></span><span class="op">(</span><span class="st">"stats"</span><span class="op">)</span> 

<span class="va">kmeans_spec</span>
<span class="co">#&gt; K Means Cluster Specification (partition)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Main Arguments:</span>
<span class="co">#&gt;   k = 3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Computational engine: stats</span></code></pre></div>
<p>Once specified, a model may be “fit” to a dataset by providing a formula and data frame. Note that unlike in supervised modeling, the formula should not include a response variable.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kmeans_spec_fit</span> <span class="op">&lt;-</span> <span class="va">kmeans_spec</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="https://generics.r-lib.org/reference/fit.html" class="external-link">fit</a></span><span class="op">(</span><span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>, data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="va">kmeans_spec_fit</span>
<span class="co">#&gt; tidyclust cluster object</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; K-means clustering with 3 clusters of sizes 85, 116, 141</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Cluster means:</span>
<span class="co">#&gt;   bill_length_mm bill_depth_mm</span>
<span class="co">#&gt; 1       50.90353      17.33647</span>
<span class="co">#&gt; 2       45.51379      15.64397</span>
<span class="co">#&gt; 3       38.40355      18.27943</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Clustering vector:</span>
<span class="co">#&gt;   1   2   3   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   2   3 </span>
<span class="co">#&gt;  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt;  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61 </span>
<span class="co">#&gt;   3   3   2   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt;  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   2   3   2   3   3   3   3   3 </span>
<span class="co">#&gt;  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101 </span>
<span class="co">#&gt;   2   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   2   3 </span>
<span class="co">#&gt; 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   2   3   2   3   3   3   2   3   3   3   3   3 </span>
<span class="co">#&gt; 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   2   3   2   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt; 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   2   1   2   1   2   2   2   2   2 </span>
<span class="co">#&gt; 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 </span>
<span class="co">#&gt;   2   2   1   2   2   2   1   2   1   2   1   1   2   2   2   2   2   2   2   2 </span>
<span class="co">#&gt; 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 </span>
<span class="co">#&gt;   1   2   2   2   1   1   1   2   2   2   1   2   1   2   1   1   2   2   1   2 </span>
<span class="co">#&gt; 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 </span>
<span class="co">#&gt;   2   2   2   2   1   2   2   2   2   2   1   2   2   2   1   2   1   2   1   2 </span>
<span class="co">#&gt; 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 </span>
<span class="co">#&gt;   1   2   2   2   2   2   1   2   1   2   2   1   1   2   1   2   1   2   1   2 </span>
<span class="co">#&gt; 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 </span>
<span class="co">#&gt;   1   2   1   2   1   2   1   1   2   2   1   2   1   2   1   2   2   2   1   2 </span>
<span class="co">#&gt; 262 263 264 265 266 267 268 269 270 271 273 274 275 276 277 278 279 280 281 282 </span>
<span class="co">#&gt;   2   1   1   2   1   2   1   2   1   2   2   1   2   1   2   1   1   2   1   2 </span>
<span class="co">#&gt; 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 </span>
<span class="co">#&gt;   2   1   2   1   2   1   2   1   2   1   1   1   2   1   2   1   2   1   2   1 </span>
<span class="co">#&gt; 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 </span>
<span class="co">#&gt;   1   1   2   1   3   1   2   1   1   2   2   1   2   1   1   2   1   2   1   1 </span>
<span class="co">#&gt; 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 </span>
<span class="co">#&gt;   1   1   1   1   2   1   2   1   2   1   2   1   1   2   1   2   2   1   2   1 </span>
<span class="co">#&gt; 343 344 </span>
<span class="co">#&gt;   1   1 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Within cluster sum of squares by cluster:</span>
<span class="co">#&gt; [1] 617.9859 754.7437 944.4986</span>
<span class="co">#&gt;  (between_SS / total_SS =  79.8 %)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Available components:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"</span>
<span class="co">#&gt; [6] "betweenss"    "size"         "iter"         "ifault"</span></code></pre></div>
<p>To access the only the results produced by the engine - in this case, <code><a href="https://rdrr.io/r/stats/kmeans.html" class="external-link">stats::kmeans</a></code> - simply extract the fit from the fitted model object:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kmeans_spec_fit</span><span class="op">$</span><span class="va">fit</span>
<span class="co">#&gt; K-means clustering with 3 clusters of sizes 85, 116, 141</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Cluster means:</span>
<span class="co">#&gt;   bill_length_mm bill_depth_mm</span>
<span class="co">#&gt; 1       50.90353      17.33647</span>
<span class="co">#&gt; 2       45.51379      15.64397</span>
<span class="co">#&gt; 3       38.40355      18.27943</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Clustering vector:</span>
<span class="co">#&gt;   1   2   3   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   2   3 </span>
<span class="co">#&gt;  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt;  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61 </span>
<span class="co">#&gt;   3   3   2   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt;  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   3   2   3   2   3   3   3   3   3 </span>
<span class="co">#&gt;  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101 </span>
<span class="co">#&gt;   2   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   3   2   3 </span>
<span class="co">#&gt; 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   2   3   2   3   3   3   2   3   3   3   3   3 </span>
<span class="co">#&gt; 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   2   3   2   3   3   3   3   3   3   3   3   3 </span>
<span class="co">#&gt; 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 </span>
<span class="co">#&gt;   3   3   3   3   3   3   3   3   3   3   3   2   1   2   1   2   2   2   2   2 </span>
<span class="co">#&gt; 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 </span>
<span class="co">#&gt;   2   2   1   2   2   2   1   2   1   2   1   1   2   2   2   2   2   2   2   2 </span>
<span class="co">#&gt; 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 </span>
<span class="co">#&gt;   1   2   2   2   1   1   1   2   2   2   1   2   1   2   1   1   2   2   1   2 </span>
<span class="co">#&gt; 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 </span>
<span class="co">#&gt;   2   2   2   2   1   2   2   2   2   2   1   2   2   2   1   2   1   2   1   2 </span>
<span class="co">#&gt; 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 </span>
<span class="co">#&gt;   1   2   2   2   2   2   1   2   1   2   2   1   1   2   1   2   1   2   1   2 </span>
<span class="co">#&gt; 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 </span>
<span class="co">#&gt;   1   2   1   2   1   2   1   1   2   2   1   2   1   2   1   2   2   2   1   2 </span>
<span class="co">#&gt; 262 263 264 265 266 267 268 269 270 271 273 274 275 276 277 278 279 280 281 282 </span>
<span class="co">#&gt;   2   1   1   2   1   2   1   2   1   2   2   1   2   1   2   1   1   2   1   2 </span>
<span class="co">#&gt; 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 </span>
<span class="co">#&gt;   2   1   2   1   2   1   2   1   2   1   1   1   2   1   2   1   2   1   2   1 </span>
<span class="co">#&gt; 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 </span>
<span class="co">#&gt;   1   1   2   1   3   1   2   1   1   2   2   1   2   1   1   2   1   2   1   1 </span>
<span class="co">#&gt; 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 </span>
<span class="co">#&gt;   1   1   1   1   2   1   2   1   2   1   2   1   1   2   1   2   2   1   2   1 </span>
<span class="co">#&gt; 343 344 </span>
<span class="co">#&gt;   1   1 </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Within cluster sum of squares by cluster:</span>
<span class="co">#&gt; [1] 617.9859 754.7437 944.4986</span>
<span class="co">#&gt;  (between_SS / total_SS =  79.8 %)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Available components:</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1] "cluster"      "centers"      "totss"        "withinss"     "tot.withinss"</span>
<span class="co">#&gt; [6] "betweenss"    "size"         "iter"         "ifault"</span></code></pre></div>
<div class="section level4">
<h4 id="cluster-assignments-and-predictions">Cluster assignments and predictions<a class="anchor" aria-label="anchor" href="#cluster-assignments-and-predictions"></a>
</h4>
<p>Of the information provided from the model fit, the primary objective is typically the cluster assignments of each observation. These can be accessed via the <code><a href="../reference/extract_cluster_assignment.html">extract_cluster_assignment()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kmeans_spec_fit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/extract_cluster_assignment.html">extract_cluster_assignment</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 342 × 1</span></span>
<span class="co">#&gt;    .cluster </span>
<span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span> Cluster_1</span>
<span class="co">#&gt; <span style="color: #949494;"># … with 332 more rows</span></span></code></pre></div>
<p>Note that this function renames clusters in accordance with the standard <code>tidyclust</code> naming convention and ordering: clusters are named “Cluster_1”, “Cluster_2”, etc. and are numbered by the order they appear in the rows of the training dataset.</p>
<p>Similarly, you can “predict” the cluster membership of new data using the <code><a href="../reference/other_predict.html">predict_cluster()</a></code> function:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_penguin</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  bill_length_mm <span class="op">=</span> <span class="fl">40</span>,
  bill_depth_mm <span class="op">=</span> <span class="fl">15</span>
<span class="op">)</span>

<span class="va">kmeans_spec_fit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/other_predict.html">predict_cluster</a></span><span class="op">(</span><span class="va">new_penguin</span><span class="op">)</span>
<span class="co">#&gt; [1] Cluster_1</span>
<span class="co">#&gt; Levels: Cluster_1</span></code></pre></div>
<p>In the case of <code>kmeans</code>, the cluster assignment is predicted by finding the closest final centroid to the new observation.</p>
</div>
<div class="section level4">
<h4 id="augmenting-datasets">Augmenting datasets<a class="anchor" aria-label="anchor" href="#augmenting-datasets"></a>
</h4>
<p>To attach cluster assignments or predictions to a dataset, use <code>augment_cluster()</code>:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">### add this</span></code></pre></div>
</div>
<div class="section level4">
<h4 id="cluster-centroids">Cluster centroids<a class="anchor" aria-label="anchor" href="#cluster-centroids"></a>
</h4>
<p>A cluster is typically characterized by the location of its final centroid. These can be accessed by:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">kmeans_spec_fit</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>
  <span class="fu"><a href="../reference/extract_centroids.html">extract_centroids</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span>
<span class="co">#&gt;   .cluster  bill_length_mm bill_depth_mm</span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Cluster_1           38.4          18.3</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> Cluster_2           45.5          15.6</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Cluster_3           50.9          17.3</span></code></pre></div>
<p>[interpretation]</p>
</div>
</div>
<div class="section level2">
<h2 id="workflows">Workflows<a class="anchor" aria-label="anchor" href="#workflows"></a>
</h2>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">penguins_recipe_1</span> <span class="op">&lt;-</span> <span class="fu">recipe</span><span class="op">(</span><span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>,
                            data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="va">penguins_recipe_2</span> <span class="op">&lt;-</span> <span class="fu">recipe</span><span class="op">(</span><span class="va">species</span> <span class="op">~</span> <span class="va">bill_length_mm</span> <span class="op">+</span> <span class="va">bill_depth_mm</span>,
                            data <span class="op">=</span> <span class="va">penguins</span><span class="op">)</span>

<span class="co"># wflow_1 &lt;- workflow() %&gt;%</span>
<span class="co">#   add_tidyclust_model(kmeans_spec) %&gt;%</span>
<span class="co">#   add_recipe(penguins_recipe_1)</span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Emil Hvitfeldt, Kelly Bodwin, RStudio.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.4.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
